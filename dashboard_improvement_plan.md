# 대시보드 개선 실행 계획

## Phase 1: 데이터 정확성 확보 (즉시 실행)
1. **거래 기록 시스템 수정**
   - quantum_trading.py의 record_trade 함수 완전 재작성
   - BUY/SELL 거래 모두 정확한 가격과 수량 저장
   - 수수료 정확한 계산 (Upbit 0.05%)

2. **DB 스키마 검증 및 수정**
   - trades 테이블 컬럼 확인 및 정규화
   - 시간대 통일 (KST)
   - 인덱스 추가로 조회 성능 개선

3. **API 엔드포인트 수정**
   - /api/upbit-trades: 실제 Upbit API 연동 또는 정확한 DB 데이터
   - /api/status: 실시간 계산 로직 개선
   - settlement_amount 계산 수정

## Phase 2: 실시간 모니터링 개선
1. **계산 로직 정확도**
   - 일일 손익: 오늘 실현 손익만 계산
   - 승률: 실제 수익 거래 / 전체 거래
   - 평균 손익비: 평균 수익 / 평균 손실

2. **실시간 업데이트**
   - WebSocket 또는 Server-Sent Events 구현
   - 5초마다 폴링 → 실시간 푸시
   - 캐싱 전략 구현

## Phase 3: 시각화 개선
1. **차트 추가**
   - 손익 추이 차트
   - 전략별 성과 차트
   - 포지션 히스토리

2. **대시보드 레이아웃**
   - 중요 지표 우선 배치
   - 색상 코딩 개선 (수익=녹색, 손실=빨강)
   - 모바일 반응형 디자인

## 구현 우선순위
1. 거래 기록 정확도 (Critical)
2. P&L 계산 정확도 (Critical)
3. 실시간 업데이트 (Important)
4. 시각화 개선 (Nice to have)